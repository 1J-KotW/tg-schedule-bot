# Schedule Bot ‚Äî –º—É–ª—å—Ç–∏‚Äë—Ç–µ–Ω–∞–Ω—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π –¥–ª—è —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤

<div align="center">

![–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ Mini App](static/images/screenshots/1.png)
![–ü–æ–∏—Å–∫ –≥—Ä—É–ø–ø –∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π](static/images/screenshots/2.png)

![–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –¥–µ–Ω—å](static/images/screenshots/3.png)
![–í—ã–±–æ—Ä –¥–∞—Ç—ã](static/images/screenshots/4.png)

![–û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–∞–π—Ç–∞ PSUTI](static/images/screenshots/5.png)

[![Python](https://img.shields.io/badge/Python-3.11+-3776AB?logo=python&logoColor=white)](https://www.python.org/)
[![FastAPI](https://img.shields.io/badge/FastAPI-High%20Performance-009688?logo=fastapi&logoColor=white)](https://fastapi.tiangolo.com/)
[![Redis](https://img.shields.io/badge/Cache-Redis-D82C20?logo=redis&logoColor=white)](https://redis.io/)
[![Docker](https://img.shields.io/badge/Docker-Ready-2496ED?logo=docker&logoColor=white)](https://www.docker.com/)
[![CI](https://img.shields.io/badge/GitLab-CI/CD-FC6D26?logo=gitlab&logoColor=white)](./.gitlab-ci.yml)

</div>

–¢–µ–ª–µ–≥—Ä–∞–º Mini App –∏ API‚Äë–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞, –∞–≥—Ä–µ–≥–∏—Ä—É—é—â–∞—è –∏ –ø—É–±–ª–∏–∫—É—é—â–∞—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –≤—É–∑–æ–≤ –ø–æ–¥ —Ä–∞–∑–Ω—ã–º–∏ –ø–æ–¥–¥–æ–º–µ–Ω–∞–º–∏. SEO‚Äë—Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è —à–∞—Ä–∏–Ω–≥–∞, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ª–∏–º–∏—Ç—ã, –∞ —Ç–∞–∫–∂–µ —Å–µ—Ä–≤–µ—Ä–Ω—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é PDF/–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.

‚Äî –†–µ—à–µ–Ω–∏–µ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –≤—É–∑–∞–º –∏ –ø–∏–∫–æ–≤—ã–º –Ω–∞–≥—Ä—É–∑–∫–∞–º.

## üéØ –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –±–æ—Ç–æ–≤

- ü§ñ [@psuti_rasp_bot](https://t.me/psuti_rasp_bot?startapp=go) ‚Äî Telegram –±–æ—Ç —Å Mini App
- üåê –ü–æ–¥–¥–æ–º–µ–Ω: `psuti.raspisanie.space`
- üì± –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π

- ü§ñ [@kspsuti_rasp_bot](https://t.me/kspsuti_rasp_bot?startapp=go) ‚Äî Telegram –±–æ—Ç —Å Mini App
- üåê –ü–æ–¥–¥–æ–º–µ–Ω: `kspsuti.raspisanie.space`
- üì± –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π

- ü§ñ [@samgups_rasp_bot](https://t.me/samgups_rasp_bot?startapp=go) ‚Äî Telegram –±–æ—Ç —Å Mini App
- üåê –ü–æ–¥–¥–æ–º–µ–Ω: `samgups.raspisanie.space`
- üì± –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π

## –ö–ª—é—á–µ–≤—ã–µ —Ü–µ–Ω–Ω–æ—Å—Ç–∏
- **–ï–¥–∏–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π**: –æ–¥–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Äî –º–Ω–æ–≥–æ –≤—É–∑–æ–≤ (multi‚Äëtenant), –∏–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ –ø–æ–¥–¥–æ–º–µ–Ω–∞–º.
- **Telegram Mini App + Web**: –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –≥–ª—É–±–æ–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–æ—Ç–æ–º.
- **–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: Redis‚Äë–∫—ç—à, rate limiting, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã.
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: white‚Äëlabel –¥–ª—è –Ω–æ–≤—ã—Ö –≤—É–∑–æ–≤, –±—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π –ø–æ–¥ –Ω–æ–≤—ã–π –±—Ä–µ–Ω–¥/–¥–æ–º–µ–Ω.

## üèõÔ∏è –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –≤—É–∑—ã –∏ –ø–æ–¥–¥–æ–º–µ–Ω—ã

| –í–£–ó | –ü–æ–¥–¥–æ–º–µ–Ω | –°—Ç–∞—Ç—É—Å | –ë–æ—Ç |
|-----|----------|--------|-----|
| **–ü–ì–£–¢–ò** | `psuti.raspisanie.space` | ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω | [@psuti_rasp_bot](https://t.me/psuti_rasp_bot) |
| **–ö–°–ü–°–£–¢–ò** | `kspsuti.raspisanie.space` | ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω | [@kspsuti_rasp_bot](https://t.me/kspsuti_rasp_bot) |
| **–°–∞–º–ì–£–ü–°** | `samgups.raspisanie.space` | ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω | [@samgups_rasp_bot](https://t.me/samgups_rasp_bot) |
| **–°–ì–ê–£** | `ssau.raspisanie.space` | üöß –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ | @ssau_rasp_bot |
| **–°–°–≠–£** | `sseu.raspisanie.space` | üöß –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ | @sseu_rasp_bot |
| **–°–∞–º–ì–ò–ö** | `samgik.raspisanie.space` | üöß –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ | @samgik_rasp_bot |

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- **Multi‚Äëtenant –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ `tenant` –ø–æ –ø–æ–¥–¥–æ–º–µ–Ω—É
- **–ò–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**: –∫–∞–∂–¥—ã–π –≤—É–∑ –∏–º–µ–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- **–ö–∞—Ç–∞–ª–æ–≥–∏ –≥—Ä—É–ø–ø –∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π**, –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é –ø–æ –¥–∞—Ç–µ.
- **–ü—É–±–ª–∏—á–Ω—ã–µ SEO‚Äë—Å—Ç—Ä–∞–Ω–∏—Ü—ã**: –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ–º—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è —à–∞—Ä–∏–Ω–≥–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π (–≥—Ä—É–ø–ø—ã/–ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏), –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ `sitemap.xml` –∏ `robots.txt`.
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Redis**: –≥–æ—Ä—è—á–∏–µ –æ—Ç–≤–µ—Ç—ã –¥–ª—è —Å–µ–≥–æ–¥–Ω—è/–∑–∞–≤—Ç—Ä–∞, TTL –¥–æ 02:00 —Å–ª–µ–¥—É—é—â–µ–≥–æ –¥–Ω—è, –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫—ç—à–∏ –ø–æ `tenant`.
- **Rate limiting**: –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª—è Telegram –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –≤–µ–±‚Äë–ø—É–±–ª–∏—á–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤.
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è PDF/–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**: —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ PDF, –ø–µ—Ä–µ—Å—ã–ª–∫–∞ –≤ —á–∞—Ç—ã —á–µ—Ä–µ–∑ –±–æ—Ç–∞, –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–∞—Ä—Ç–∏–Ω–æ–∫.
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**: –ø–æ—Å–ª–µ–¥–Ω—è—è –≥—Ä—É–ø–ø–∞/–ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å.
- **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–Ω—É**: Docker, docker‚Äëcompose, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤, –∫–æ–Ω—Ñ–∏–≥–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
- **Backend**: FastAPI, SQLAlchemy 2, Pydantic v2, SlowAPI (–ª–∏–º–∏—Ç—ã), Redis, ReportLab (PDF)
- **Telegram**: aiogram (multi‚Äëbot per tenant), Telegram Mini App (WebApp)
- **Frontend**: —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π `static/` (HTML/CSS/JS) –¥–ª—è Web/Mini App
- **DB**: SQLite per tenant (–ø—Ä–æ—Å—Ç–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ), Alembic/SQL –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
- **DevOps**: Docker, docker‚Äëcompose, GitLab CI/CD, Nginx/Passenger (–≤–∞—Ä–∏–∞–Ω—Ç—ã –¥–µ–ø–ª–æ—è)

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –ø–æ–¥–¥–æ–º–µ–Ω–æ–≤

### –°—Ö–µ–º–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
```
psuti.raspisanie.space    ‚Üí PSUTI tenant (app/core/config.py)
ssau.raspisanie.space     ‚Üí –°–ì–ê–£ tenant  
kspsuti.raspisanie.space  ‚Üí –ö–°–ü–°–£–¢–ò tenant
sseu.raspisanie.space     ‚Üí –°–°–≠–£ tenant
samgups.raspisanie.space  ‚Üí –°–∞–º–ì–£–ü–° tenant
samgik.raspisanie.space   ‚Üí –°–∞–º–ì–ò–ö tenant
```

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
```
client (Telegram Mini App / Web)
        ‚Üì
Nginx/Reverse Proxy ‚Üí FastAPI (app/main.py)
        ‚Üì                   ‚Üò  aiogram (multi‚Äëbot per tenant)
   Redis (cache)           SQLite per tenant (data/tenants/*.db)
```
- **Multi‚Äëtenant**: —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–¥–æ–º–µ–Ω–∞ ‚Üí –∫–æ–Ω—Ñ–∏–≥/–ë–î –≤ `app/core/config.py`, —Ñ–∞–±—Ä–∏–∫–∏ —Å–µ—Å—Å–∏–π –≤ `app/core/database.py`.
- **–°–ª–æ–∏**:
  - `app/services` ‚Äî –±–∏–∑–Ω–µ—Å‚Äë–ª–æ–≥–∏–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π
  - `app/schemas` ‚Äî Pydantic‚Äë—Å—Ö–µ–º—ã
  - `app/models` ‚Äî ORM‚Äë–º–æ–¥–µ–ª–∏
  - `app/bot` ‚Äî Telegram‚Äë–±–æ—Ç (–∫–æ–º–∞–Ω–¥—ã, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è WebApp)
  - `static/` ‚Äî —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∞–∫—Ç–∏–≤—ã –∏ SEO

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (–æ—Å–Ω–æ–≤–Ω–æ–µ)
- `app/main.py` ‚Äî API, middleware, –∫—ç—à, –ª–∏–º–∏—Ç—ã, –ø—É–±–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, webapp endpoints
- `app/core/config.py` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –º–∞–ø–ø–∏–Ω–≥ –ø–æ–¥–¥–æ–º–µ–Ω–∞ ‚Üí tenant, —Ç–æ–∫–µ–Ω—ã –±–æ—Ç–æ–≤
- `app/core/database.py` ‚Äî —Å–µ—Å—Å–∏–∏/—ç–Ω–¥–∂–∏–Ω—ã per tenant, –∞–≤—Ç–æ‚Äë—Å–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑
- `app/services/schedule.py` ‚Äî –±–∏–∑–Ω–µ—Å‚Äë–ª–æ–≥–∏–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π
- `app/bot/*` ‚Äî Telegram‚Äë–±–æ—Ç –∏ —Ö—ç–Ω–¥–ª–µ—Ä—ã
- `static/*` ‚Äî —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥, favicon, SEO, –ø—Ä–µ–≤—å—é
- `docker-compose.yml`, `Dockerfile*` ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è

## Backend: API –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **–ü—É–±–ª–∏—á–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã** (–¥–ª—è SEO/–≤–µ–±):
  - `GET /public/groups/`, `GET /public/teachers/`
  - `GET /public/groups/{group_id}/schedule/{date}`
  - `GET /public/teachers/{teacher_name}/schedule/{date}`
  - `GET /share/page?mode=...` ‚Äî SEO —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
  - `GET /sitemap.xml`, `GET /robots.txt`
- **–ó–∞—â–∏—â—ë–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã** (Mini App):
  - `GET /groups/`, `GET /teachers/`
  - `GET /groups/{group_id}/schedule/{date}`
  - `GET /teachers/{teacher_name}/schedule/{date}`
  - `POST /webapp/*` ‚Äî –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ Mini App ‚Üî –±–æ—Ç
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è Telegram `initData` –ø–æ HMAC (—Å–º. `check_telegram_init_data`). –ü—É–±–ª–∏—á–Ω—ã–π —Ä–µ–∂–∏–º –º–æ–∂–µ—Ç –±—ã—Ç—å –≤–∫–ª—é—á—ë–Ω —á–µ—Ä–µ–∑ `ALLOW_PUBLIC`.
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: CORS, TrustedHost, –±–∞–∑–æ–≤–∞—è —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, security headers (CSP –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏), rate limiting per user/IP.

## Telegram Bot –∏ Mini App
- –ú—É–ª—å—Ç–∏‚Äë–±–æ—Ç: –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω –Ω–∞ –∫–∞–∂–¥–æ–≥–æ `tenant`, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π polling, —Å–Ω—è—Ç–∏–µ webhook –Ω–∞ —Å—Ç–∞—Ä—Ç–µ.
- –ö–æ–º–∞–Ω–¥—ã: `/start` (–∫–Ω–æ–ø–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è Mini App), `/groups`, `/schedule <group_id>`.
- WebApp: —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã `/webapp/*`, –æ—Ç–ø—Ä–∞–≤–∫–∞ PDF/–∫–∞—Ä—Ç–∏–Ω–æ–∫, –æ—Ç–≤–µ—Ç—ã –Ω–∞ `answer_web_app_query`.

## –î–∞–Ω–Ω—ã–µ –∏ –±–∞–∑—ã
- **–ú–æ–¥–µ–ª—å**: –≥—Ä—É–ø–ø—ã, –¥–Ω–∏, –∑–∞–Ω—è—Ç–∏—è, –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞).
- **–ò–∑–æ–ª—è—Ü–∏—è**: –æ–¥–Ω–∞ SQLite –±–∞–∑–∞ –Ω–∞ `tenant` (`./data/tenants/<tenant>.db`).
- **–ú–∏–≥—Ä–∞—Ü–∏–∏/–∏–º–ø–æ—Ä—Ç**: –≥–æ—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã (`import_*.py`, `migrate_*.py`, Alembic/SQL).

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–ª–æ–∫–∞–ª—å–Ω–æ)
1) –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
python -m venv .venv && .venv\Scripts\activate  # Windows PowerShell
pip install -r requirements.txt
```
2) –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `.env` (–ø—Ä–∏–º–µ—Ä):
```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
DOMAIN=raspisanie.space
ALLOW_PUBLIC=true

# –¢–æ–∫–µ–Ω—ã Telegram –±–æ—Ç–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤—É–∑–∞
BOT_TOKEN_PSUTI=1234567890:AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
BOT_TOKEN_SSAU=1234567890:BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB
BOT_TOKEN_KSPSUTI=1234567890:CCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCC
BOT_TOKEN_SSEU=1234567890:DDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDD
BOT_TOKEN_SAMGUPS=1234567890:EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE
BOT_TOKEN_SAMGIK=1234567890:FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
```
3) –ó–∞–ø—É—Å–∫ API
```bash
python run.py
```
API: `http://127.0.0.1:8000/`

## –ó–∞–ø—É—Å–∫ –≤ Docker (—Å Redis)
```bash
docker compose up --build -d
```
- API: `http://localhost:8000/`
- Redis: `localhost:6379` (–ø–∞—Ä–æ–ª—å –∑–∞–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ `REDIS_PASSWORD`)

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–∫–ª—é—á–µ–≤—ã–µ)
- `DOMAIN` ‚Äî –±–∞–∑–æ–≤—ã–π –¥–æ–º–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, `raspisanie.space`)
- `ALLOW_PUBLIC` ‚Äî —Ä–∞–∑—Ä–µ—à–∏—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø (–±–µ–∑ Telegram initData)
- `TENANTS_DATA_PATH` ‚Äî –ø—É—Ç—å –∫ –ë–î –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `./data/tenants`)
- `BOT_TOKEN_*`, `BOT_USERNAME_*` ‚Äî –Ω–∞ –∫–∞–∂–¥—ã–π `tenant`
- `REDIS_*` ‚Äî —Ö–æ—Å—Ç/–ø–æ—Ä—Ç/–ë–î/–ø–∞—Ä–æ–ª—å –¥–ª—è –∫–µ—à–∞

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å
- Redis‚Äë–∫—ç—à –≥–æ—Ä—è—á–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤ (—Å–µ–≥—Ä–µ–≥–∞—Ü–∏—è –ø–æ tenant), TTL –¥–ª—è —Å–µ–≥–æ–¥–Ω—è/–∑–∞–≤—Ç—Ä–∞.
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ `GET /admin/stats`: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—à–∏–±–æ–∫, —Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞, —Ç–æ–ø‚Äë–≥—Ä—É–ø–ø—ã/–ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏, —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–µ—à–∞.
- –õ–∏–º–∏—Ç—ã –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (Telegram) –∏ IP (web public) —á–µ—Ä–µ–∑ SlowAPI.

## –î–µ–ø–ª–æ–π (–ø—Ä–æ–¥)
- –í–∞—Ä–∏–∞–Ω—Ç: VPS + Docker + reverse proxy (Nginx/Caddy/Traefik) + SSL (Let's Encrypt).
- –ú–∞–ø–ø–∏–Ω–≥ –ø–æ–¥–¥–æ–º–µ–Ω–æ–≤ ‚Üí —Å–µ—Ä–≤–∏—Å (–æ–¥–∏–Ω —Å–µ—Ä–≤–∏—Å, multi‚Äëtenant). –°–µ–∫—Ä–µ—Ç—ã —á–µ—Ä–µ–∑ `.env`.
- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ: –≤—ã–Ω–µ—Å–µ–Ω–Ω—ã–π Redis –¥–ª—è –æ–±—â–µ–≥–æ –∫–µ—à–∞, sticky‚Äësessions –Ω–µ —Ç—Ä–µ–±—É—é—Ç—Å—è.

## üé¨ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### –ê–∫—Ç–∏–≤–Ω—ã–µ –±–æ—Ç—ã (–≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é)

**PSUTI**: [@psuti_rasp_bot](https://t.me/psuti_rasp_bot?startapp=go) | [psuti.raspisanie.space](https://psuti.raspisanie.space)

**–ö–°–ü–°–£–¢–ò**: [@kspsuti_rasp_bot](https://t.me/kspsuti_rasp_bot?startapp=go) | [kspsuti.raspisanie.space](https://kspsuti.raspisanie.space)

**–°–∞–º–ì–£–ü–°**: [@samgups_rasp_bot](https://t.me/samgups_rasp_bot?startapp=go) | [samgups.raspisanie.space](https://samgups.raspisanie.space)

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
1. **Telegram Mini App** ‚Äî –æ—Ç–∫—Ä–æ–π—Ç–µ –ª—é–±–æ–≥–æ –±–æ—Ç–∞ –∏ –Ω–∞–∂–º–∏—Ç–µ "Open App"
2. **–ü–æ–∏—Å–∫ –≥—Ä—É–ø–ø/–ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π** ‚Äî –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
3. **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –¥–∞—Ç—É** ‚Äî –≤—ã–±–æ—Ä –ª—é–±–æ–π –¥–∞—Ç—ã –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ
4. **–≠–∫—Å–ø–æ—Ä—Ç –≤ PDF** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
5. **SEO —Å—Ç—Ä–∞–Ω–∏—Ü—ã** ‚Äî –ø—É–±–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è —à–∞—Ä–∏–Ω–≥–∞

### –°–∫—Ä–∏–Ω—à–æ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- `static/images/screenshots/1.png` ‚Äî –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ Mini App
- `static/images/screenshots/2.png` ‚Äî –ø–æ–∏—Å–∫ –≥—Ä—É–ø–ø/–ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π  
- `static/images/screenshots/3.png` ‚Äî —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –¥–µ–Ω—å
- `static/images/screenshots/4.png` ‚Äî –≤—ã–±–æ—Ä –¥–∞—Ç—ã
- `static/images/screenshots/5.png` ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–∞–π—Ç–∞ PSUTI

## –¢–µ—Å—Ç—ã –∏ –∫–∞—á–µ—Å—Ç–≤–æ
- –Æ–Ω–∏—Ç‚Äë—Ç–µ—Å—Ç—ã –≤ `tests/`.
- GitLab CI/CD –∫–æ–Ω—Ñ–∏–≥: `.gitlab-ci.yml` (–ª–∏–Ω—Ç—ã/—Ç–µ—Å—Ç—ã/—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞ ‚Äî –ø–æ–¥ –ø—Ä–æ–µ–∫—Ç).


